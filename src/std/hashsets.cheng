module hashsets
import std/hashmaps

type
    HashSetStr =
        map: hashmaps.HashMapStrInt

fn hashSetStrInit(cap0: int32 = 16): HashSetStr =
    var s: HashSetStr
    s.map = hashmaps.hashMapStrIntInit(cap0)
    return s

fn hashSetStrClear(s: var HashSetStr) =
    hashmaps.hashMapStrIntClear(s.map)

fn hashSetStrAdd(s: var HashSetStr, key: str) =
    if len(key) == 0:
        return
    hashmaps.hashMapStrIntPut(s.map, key, 1)

fn hashSetStrHas(s: HashSetStr, key: str): bool =
    return hashmaps.hashMapStrIntFindSlot(s.map, key, false) >= 0
