# Stage1 codegen coverage:
# when / defer / continue
fn main() =
    var x: int32 = 0
    var y: int32 = 1
    when false:
        x = 10
    else:
        x = 20

    var sum: int64 = 0
    for i in 0..< 3:
        defer:
            sum = sum + 10
        if i == 1:
            continue
        if i == 2:
            break
        sum = sum + i

    assert(sum == 20, "sum != 20")
    defer:
        echo "exit main"
    return 0
