@importc("call_cb")
fn callCb(cb: fn(cbCtx: void*, v: int32): int32, ctx: void*, v: int32): int32

fn main(): int32 =
    let base: int32 = 40
    let cb: fn(v: int32): int32 = fn(v: int32): int32 =
        return v + base
    let out: int32 = callCb(cb, nil, 2)
    if out != 42:
        return 1
    return 7
