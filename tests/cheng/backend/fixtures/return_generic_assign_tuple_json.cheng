import std/json

fn idAssign[T](x: T): T =
    var y: T
    y = x
    return y

fn main(): int32 =
    let tv: tuple[int32, int32] = (1, 2)
    let (ta, tb): tuple[int32, int32] = idAssign(tv)
    if ta + tb != 3:
        return 1

    let obj: JsonNode = newJObject()
    obj["a"] = toJsonValue 1
    let obj2: JsonNode = idAssign(obj)
    let v: JsonNode = obj2["a"]
    if getInt(v) != 1:
        return 2
    return 0

