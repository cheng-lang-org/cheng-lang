@thread_boundary
fn spawn(entry: fn()): void =
    if entry != nil:
        entry()

@thread_boundary
fn spawn[T](entry: fn(T), ctx: T): void =
    if entry != nil:
        entry(ctx)
